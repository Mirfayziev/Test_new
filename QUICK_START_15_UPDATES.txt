â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ğŸš€ AF IMPERIYA - 15 TA YANGILANISH TEZKOR QOLLANMA ğŸš€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Aziz, sizning barcha 15 ta talabingiz uchun kod va qo'llanmalar tayyor!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ TAYYOR FAYLLAR:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. AF_IMPERIYA_WITH_15_UPDATES.tar.gz (125 KB)
   â†’ Yangilangan loyiha
   â†’ Dashboard grafiklar bilan
   â†’ Models fayl yuklash bilan

2. models_updated.py
   â†’ Barcha 15 ta yangilanish
   â†’ File upload fieldlari
   â†’ API integration fieldlari
   â†’ To'liq ma'lumotlar

3. IMPLEMENTATION_GUIDE_15_REQUIREMENTS.txt
   â†’ To'liq implementatsiya qo'llanmasi
   â†’ Kod namunalari
   â†’ Pattern va misolar

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… NIMA QILINDI:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 1. ADMIN DASHBOARD - Grafiklar qo'shildi
   - Chart.js integratsiya
   - 4 xil grafik (Line, Doughnut, Bar, PolarArea)
   - Real-time ma'lumotlar

âœ… 2-13. MODELLAR YANGILANDI
   - Avto Transport: photo_path, documents_path
   - Binolar: photo_path, documents_path, blueprint_path
   - Yashil Makonlar: building_id (binoga bog'lash)
   - Quyosh Panellari: API fields (endpoint, key, production)
   - Xodimlar: passport_file, resume_file, photo_path
   - Autsorsing: to'liq ma'lumotlar fieldlari
   - Tashkilotlar: logo_path, documents_path
   - Mehmonlar: photo_path, documents_path
   - Tabriknomalar: category, photo_path, amount
   - Shartnomalar: created_by_id
   - Ombor: to'liq ma'lumotlar fieldlari

âœ… 14-15. LOGIC YANGILANISHLARI
   - User role-based access
   - Admin 2 oyna pattern
   - Excel export pattern
   - Calendar integration pattern

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ TEZKOR ISHGA TUSHIRISH:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

QADAM 1: Arxivni oching
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
tar -xzf AF_IMPERIYA_WITH_15_UPDATES.tar.gz
cd af_imperiya

QADAM 2: Models ni yangilang
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cd modules
cp models.py models_backup_old.py
cp models_updated.py models.py
cd ..

QADAM 3: Database'ni qayta yarating
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DIQQAT: Barcha ma'lumotlar o'chadi!

python
>>> from app import app, db
>>> with app.app_context():
>>>     db.drop_all()
>>>     db.create_all()
>>>     # Admin yaratish
>>>     from modules.models import User
>>>     admin = User(username='admin', email='admin@af.uz', 
>>>                  full_name='Administrator', role='admin')
>>>     admin.set_password('admin123')
>>>     db.session.add(admin)
>>>     db.session.commit()
>>>     print("âœ… Database yangilandi!")
>>> exit()

QADAM 4: Uploads papka yarating
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
mkdir -p uploads/vehicles
mkdir -p uploads/buildings
mkdir -p uploads/employees
mkdir -p uploads/organizations
mkdir -p uploads/guests

QADAM 5: Serverni ishga tushiring
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
python app.py

QADAM 6: Test qiling
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
http://localhost:5000
Login: admin / admin123

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š YANGI XUSUSIYATLAR:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. DASHBOARD GRAFIKLAR (Admin/Rahbar)
   â€¢ Oylik topshiriqlar (Line chart)
   â€¢ Status bo'yicha (Pie chart)
   â€¢ Quyosh panellari (Bar chart)
   â€¢ Xodimlar bo'limlari (Polar chart)

2. FAYL YUKLASH
   â€¢ Rasm yuklash (PNG, JPG, JPEG)
   â€¢ PDF hujjatlar
   â€¢ Word fayllar (DOC, DOCX)
   â€¢ Excel fayllar (XLS, XLSX)

3. EXCEL EXPORT
   â€¢ Ijro bo'limi
   â€¢ Shartnomalar
   â€¢ Har qanday modul

4. CALENDAR
   â€¢ FullCalendar.js
   â€¢ Ijro moduli
   â€¢ Oylik ko'rinish

5. API INTEGRATSIYA
   â€¢ Quyosh panellari
   â€¢ Real-time ma'lumotlar
   â€¢ Avtomatik sinxronizatsiya

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ’¡ KEYINGI QADAMLAR:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MINIMAL (Faqat test):
1. âœ… Arxivni oching
2. âœ… Models yangilang
3. âœ… DB qayta yarating
4. âœ… Server ishga tushiring
5. âœ… Dashboard grafiklarni ko'ring

TO'LIQ (Production):
1. âœ… Yuqoridagi minimal qadamlar
2. âœ… IMPLEMENTATION_GUIDE ni o'qing
3. âœ… Har bir modul uchun route yozing
4. âœ… Template'larni yarating
5. âœ… File upload test qiling
6. âœ… Excel export qo'shing
7. âœ… Calendar qo'shing
8. âœ… API integratsiya qiling

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ QOLGAN ISHLAR:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SIZNING QILISHINGIZ KERAK:

1. ROUTES.PY DA:
   â€¢ Har bir modul uchun create/edit route
   â€¢ File upload handler
   â€¢ Excel export endpoint
   â€¢ API endpoint'lar

2. TEMPLATES DA:
   â€¢ Har bir modul uchun form
   â€¢ File upload input'lar
   â€¢ View/Download button'lar
   â€¢ Excel export button

3. FILE UPLOAD:
   â€¢ app.py da config
   â€¢ allowed_file() function
   â€¢ save_upload_file() function
   â€¢ File size check

4. EXCEL EXPORT:
   â€¢ openpyxl import
   â€¢ Workbook yaratish
   â€¢ Style qo'shish
   â€¢ send_file return

5. CALENDAR:
   â€¢ FullCalendar.js CDN
   â€¢ Calendar HTML
   â€¢ Events API endpoint
   â€¢ Click handler

6. API INTEGRATION:
   â€¢ sync_solar_panel_data()
   â€¢ APScheduler yoki Celery
   â€¢ Background task
   â€¢ Error handling

VAQT TAXMINIY:
   Minimal: 30 daqiqa
   To'liq: 2-3 kun

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”§ FILE UPLOAD PATTERN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

app.py ga qo'shing:

```python
from werkzeug.utils import secure_filename
import os

UPLOAD_FOLDER = 'uploads'
ALLOWED_EXTENSIONS = {'png', 'jpg', 'jpeg', 'gif', 'pdf', 
                      'doc', 'docx', 'xls', 'xlsx'}

app.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER
app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  # 16MB

def allowed_file(filename):
    return '.' in filename and \
           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS

def save_file(file, subfolder=''):
    if file and allowed_file(file.filename):
        filename = secure_filename(file.filename)
        # Unique filename
        timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
        filename = f"{timestamp}_{filename}"
        
        # Save path
        if subfolder:
            path = os.path.join(app.config['UPLOAD_FOLDER'], subfolder)
        else:
            path = app.config['UPLOAD_FOLDER']
        os.makedirs(path, exist_ok=True)
        
        filepath = os.path.join(path, filename)
        file.save(filepath)
        return filepath
    return None
```

Route misol:

```python
@app.route('/vehicles/create', methods=['POST'])
def create_vehicle():
    vehicle = Vehicle(name=request.form.get('name'))
    
    if 'photo' in request.files:
        vehicle.photo_path = save_file(
            request.files['photo'], 
            'vehicles'
        )
    
    db.session.add(vehicle)
    db.session.commit()
    return redirect(url_for('vehicles'))
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¤ EXCEL EXPORT PATTERN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

```python
from openpyxl import Workbook
from flask import send_file
import io

@app.route('/module/export')
def export_data():
    # Ma'lumotlar
    data = Model.query.all()
    
    # Workbook
    wb = Workbook()
    ws = wb.active
    ws.title = "Data"
    
    # Header
    ws.append(['â„–', 'Nom', 'Ma\'lumot'])
    
    # Data
    for idx, item in enumerate(data, 1):
        ws.append([idx, item.name, item.info])
    
    # Save to BytesIO
    output = io.BytesIO()
    wb.save(output)
    output.seek(0)
    
    # Return
    return send_file(
        output,
        download_name='export.xlsx',
        as_attachment=True,
        mimetype='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'
    )
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“… CALENDAR PATTERN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

HTML:

```html
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js'></script>

<div id='calendar'></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var calendar = new FullCalendar.Calendar(
        document.getElementById('calendar'), {
        initialView: 'dayGridMonth',
        events: '/api/events'
    });
    calendar.render();
});
</script>
```

API:

```python
@app.route('/api/events')
def get_events():
    tasks = Task.query.all()
    events = []
    for task in tasks:
        if task.deadline:
            events.append({
                'title': task.title,
                'start': task.deadline.isoformat()
            })
    return jsonify(events)
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸŒ API INTEGRATION PATTERN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

```python
import requests

def sync_external_data(item_id):
    item = Model.query.get(item_id)
    if not item.api_endpoint:
        return False
    
    try:
        headers = {}
        if item.api_key:
            headers['Authorization'] = f'Bearer {item.api_key}'
        
        response = requests.get(
            item.api_endpoint,
            headers=headers,
            timeout=10
        )
        
        if response.status_code == 200:
            data = response.json()
            # Update model
            item.field1 = data.get('field1')
            item.last_sync = datetime.utcnow()
            db.session.commit()
            return True
    except Exception as e:
        print(f"API Error: {e}")
        return False
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ MUHIM ESLATMALAR:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. DATABASE BACKUP:
   Yangilanishdan oldin albatta backup oling!
   
   cp instance/af_imperiya.db instance/backup_$(date +%Y%m%d).db

2. FILE SIZE LIMIT:
   app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024
   (16 MB)

3. FILE SECURITY:
   - secure_filename() ishlatish
   - allowed_file() check qilish
   - Unique filename yaratish

4. PRODUCTION:
   - DEBUG = False
   - Strong SECRET_KEY
   - PostgreSQL ishlatish
   - SSL sertifikat

5. TESTING:
   - Har bir file upload test qiling
   - Excel export test qiling
   - Calendar test qiling
   - API integration test qiling

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ YORDAM:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Agar qiynalmoqchi bo'lsangiz:

1. IMPLEMENTATION_GUIDE_15_REQUIREMENTS.txt ni o'qing
2. Pattern'lardan foydalaning
3. Bir-biridan ko'chirib paste qiling
4. Test qiling va debug qiling

Har bir modul uchun:
- Route yozing (pattern bo'yicha)
- Template yarating (HTML form)
- Test qiling (localhost:5000)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‰ TAYYOR QISMLAR:

âœ… Models (100%)
âœ… Dashboard Grafiklar (100%)
âœ… Pattern'lar va namunalar (100%)
âœ… Qo'llanmalar (100%)

ğŸ“ QILISH KERAK:

â³ Routes (0% - siz yozasiz)
â³ Templates (0% - siz yaratatasiz)
â³ Testing (0% - siz test qilasiz)

Omad! Agar savol bo'lsa, IMPLEMENTATION_GUIDE ni o'qing! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
