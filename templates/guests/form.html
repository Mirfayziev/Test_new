{% extends "base.html" %}
{% block page_title %}Mehmon{% endblock %}
{% block content %}
<div class="container-fluid">
    <h2><i class="bi bi-person-badge"></i> Mehmon</h2>
    
    <div class="card border-0 shadow-sm mt-4">
        <div class="card-body">
            <form method="POST" enctype="multipart/form-data">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">FIO *</label>
                        <input type="text" class="form-control" name="full_name" 
                               value="{{ guest.full_name if guest }}" required>
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Tashkilot</label>
                        <input type="text" class="form-control" name="organization" 
                               value="{{ guest.organization if guest }}">
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Lavozim</label>
                        <input type="text" class="form-control" name="position" 
                               value="{{ guest.position if guest }}">
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Tashrif sanasi</label>
                        <input type="date" class="form-control" name="visit_date" 
                               value="{{ guest.visit_date.strftime('%Y-%m-%d') if guest and guest.visit_date }}">
                    </div>
                    
                    <div class="col-md-12 mb-3">
                        <label class="form-label">Tashrif maqsadi</label>
                        <textarea class="form-control" name="visit_purpose" rows="2">{{ guest.visit_purpose if guest }}</textarea>
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Telefon</label>
                        <input type="tel" class="form-control" name="phone" 
                               value="{{ guest.phone if guest }}">
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" name="email" 
                               value="{{ guest.email if guest }}">
                    </div>
                    
                    <div class="col-md-12"><hr class="my-4"></div>
                    
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Rasm</label>
                        <input type="file" class="form-control" name="photo" accept="image/*">
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Hujjatlar</label>
                        <input type="file" class="form-control" name="documents" accept=".pdf,.doc,.docx">
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-save"></i> Saqlash
                </button>
                <a href="{{ url_for('guests') }}" class="btn btn-secondary">Bekor qilish</a>
            </form>
        </div>
    </div>
</div>
{% endblock %}